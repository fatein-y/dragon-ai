<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dragon Pro ğŸ‰</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --accent: #fd79a8;
            --glass: rgba(255, 255, 255, 0.08);
            --border: rgba(255, 255, 255, 0.15);
        }

        * { box-sizing: border-box; }

        body {
            font-family: 'Cairo', sans-serif;
            background: radial-gradient(circle at top left, #2d3436, #000000);
            background-size: 400% 400%;
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            overflow: hidden;
        }

        .container {
            background: var(--glass);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--border);
            border-radius: 30px;
            padding: 30px 25px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            animation: slideUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        h2 { margin: 0; font-weight: 800; font-size: 26px; color: #fff; }
        .subtitle { font-size: 12px; color: rgba(255, 255, 255, 0.5); margin-bottom: 25px; display: block; }

        .mode-selector { display: flex; gap: 15px; margin-bottom: 20px; }
        .mode-option { flex: 1; cursor: pointer; }
        .mode-option input { display: none; }

        .mode-card {
            display: flex; flex-direction: column; align-items: center;
            padding: 18px 10px; background: rgba(255, 255, 255, 0.03);
            border: 2px solid transparent; border-radius: 20px; transition: 0.3s;
        }

        .mode-card .icon { font-size: 32px; margin-bottom: 8px; filter: grayscale(100%); transition: 0.3s; }
        .mode-card .mode-name { font-size: 14px; font-weight: 700; color: rgba(255, 255, 255, 0.5); }

        /* Ø§Ù„ÙˆØµÙ Ø§Ù„Ù…Ø®ØªÙÙŠ */
        .mode-card .mode-desc {
            font-size: 10px; color: var(--secondary);
            max-height: 0; opacity: 0; overflow: hidden; transition: 0.4s;
        }

        /* Ø­Ø§Ù„Ø© Ø§Ù„ØªÙØ¹ÙŠÙ„ */
        .mode-option input:checked + .mode-card {
            background: rgba(108, 92, 231, 0.15);
            border-color: var(--primary);
            box-shadow: 0 0 25px rgba(108, 92, 231, 0.4);
            transform: translateY(-5px);
        }
        .mode-option input:checked + .mode-card .icon { filter: grayscale(0%); transform: scale(1.1); }
        .mode-option input:checked + .mode-card .mode-name { color: white; }
        .mode-option input:checked + .mode-card .mode-desc { max-height: 40px; opacity: 1; margin-top: 5px; }

        textarea {
            width: 100%; height: 110px; background: rgba(0, 0, 0, 0.25);
            border: 2px solid var(--border); border-radius: 18px;
            padding: 15px; color: white; font-family: 'Cairo'; font-size: 15px;
            resize: none; outline: none; transition: 0.3s;
        }
        textarea:focus { border-color: var(--secondary); }

        .btn-send {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white; border: none; width: 100%; padding: 15px;
            border-radius: 18px; font-size: 17px; font-weight: 800;
            cursor: pointer; margin-top: 20px; box-shadow: 0 8px 20px rgba(108, 92, 231, 0.3);
        }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div class="container">
        <h2>Dragon Pro ğŸ‰</h2>
        <span class="subtitle">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØµÙŠØ§ØºØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</span>

        <div class="mode-selector">
            <label class="mode-option">
                <input type="radio" name="dragon-mode" value="corporate" checked>
                <div class="mode-card">
                    <div class="icon">ğŸ’¼</div>
                    <div class="mode-name">Ø¥Ø¯Ø§Ø±ÙŠ</div>
                    <div class="mode-desc">ØªÙ‚Ø§Ø±ÙŠØ± Ø±Ø³Ù…ÙŠØ© ÙˆØ§Ø­ØªØ±Ø§ÙÙŠØ©</div>
                </div>
            </label>

            <label class="mode-option">
                <input type="radio" name="dragon-mode" value="academic">
                <div class="mode-card">
                    <div class="icon">ğŸ“</div>
                    <div class="mode-name">Ø¬Ø§Ù…Ø¹ÙŠ</div>
                    <div class="mode-desc">Ø£Ø¨Ø­Ø§Ø« Ø·Ø¨ÙŠØ© ÙØ±Ù†Ø³ÙŠØ© (USJ)</div>
                </div>
            </label>
        </div>

        <textarea id="user-input" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ Ø±Ø¤ÙˆØ³ Ø§Ù„Ø£Ù‚Ù„Ø§Ù… Ù‡Ù†Ø§..."></textarea>
        <button id="send-btn" class="btn-send" onclick="send()">âœ¨ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø°ÙƒÙŠØ©</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // Ù‡Ø²Ø© Ø®ÙÙŠÙØ© Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙˆØ¯
        document.querySelectorAll('.mode-option').forEach(opt => {
            opt.addEventListener('click', () => {
                if (tg.HapticFeedback) tg.HapticFeedback.selectionChanged();
            });
        });

        function send() {
            const text = document.getElementById('user-input').value;
            // Ø³Ø­Ø¨ Ø§Ù„Ù‚ÙŠÙ…Ø© Ù…Ù† Ø§Ù„Ù€ Radio Button Ø§Ù„Ù…Ø®ØªØ§Ø±
            const mode = document.querySelector('input[name="dragon-mode"]:checked').value;
            const btn = document.getElementById('send-btn');
            
            if (!text.trim()) {
                if (tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('error');
                tg.showAlert("âš ï¸ Ø¨Ù„ÙŠØ² Ø§ÙƒØªØ¨ Ø´ÙŠ Ù‚Ø¨Ù„ Ù…Ø§ ØªØ¨Ø¹Øª!");
                return;
            }

            btn.disabled = true;
            btn.innerText = "â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

            if (tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');

            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†ÙØ³ Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ù„ÙŠ Ø¨ÙŠÙÙ‡Ù…Ù‡Ø§ Ø§Ù„Ø¨Ø§ÙŠØ«ÙˆÙ† Ø¹Ù†Ø¯Ùƒ: mode|text
            setTimeout(() => {
                tg.sendData(`${mode}|${text}`);
                tg.close();
            }, 400);
        }
    </script>
</body>
</html>
